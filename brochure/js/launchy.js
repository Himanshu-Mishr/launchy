var Launchy =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/*!************************!*\
  !*** ./src/launchy.js ***!
  \************************/
/*! no static exports found */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Launchy!: An Accessible Modal Window\n *\n * Features include:\n * - On launch, shift focus to the modal window container\n * - The modal window is described by the modal heading\n * - Trap keyboard focus within the modal when active/visible\n * - Close the window on `esc` key press\n * - Close the window on overlay `click`\n * - Set keyboard focus back to the launcher element on window close\n * - Transparent border for Windows High Contrast themes\n *\n * For more details:\n * - WCAG 2.4.3: https://www.w3.org/TR/UNDERSTANDING-WCAG20/navigation-mechanisms-focus-order.html#navigation-mechanisms-focus-order-examples-head\n * - WAI-ARIA Authoring Practices 1.1: https://www.w3.org/TR/wai-aria-practices-1.1/#dialog_modal\n *\n * @author Scott Vinkle <svinkle@gmail.com>\n * @version 0.6.7\n * @license MIT\n */\n\n// HTML elements\nvar htmlElements = {\n    launchModal: 'a',\n    closeModal: 'a',\n    modalWindow: 'div',\n    modalContent: 'div',\n    modalOverlay: 'div',\n    modalTitle: 'h2'\n};\n\n// CSS classes\nvar classes = {\n    modalLaunchLink: 'launchy__launch-link',\n    modalCloseLink: 'launchy__close-link',\n    modalWindow: 'launchy__window',\n    modalContent: 'launchy__content',\n    modalOverlay: 'launchy__overlay',\n    modalTitle: 'launchy__title',\n    modalWindowIsVisible: 'launchy__window--is-visible',\n    modalOverlayIsVisible: 'launchy__overlay--is-visible'\n};\n\n// Data attributes\nvar data = {\n    launchyText: 'data-launchy-text',\n    launchyTitle: 'data-launchy-title'\n};\n\n// Keys\nvar keysCodes = {\n    'Escape': 27\n};\n\n// Selectors\nvar selectors = {\n    launchyElements: '[data-launchy]',\n    launchyControl: 'launchy-control-',\n    launchyDialog: 'launchy-dialog-',\n    launchyCloseControl: 'launchy-close-control-',\n    modalOverlay: 'modal-overlay-',\n    modalTitle: 'modal-title-'\n};\n\n// Strings\nvar strings = {\n    modalClose: 'Close modal window!',\n    modalError: 'Launchy container must have a `data-launchy-text` attribute!',\n    modalErrorEmpty: 'Launchy container `data-launchy-text` attribute cannot be empty!',\n    modalWarning: 'Launchy container should have a `data-launchy-title` attribute, or be sure to supply your own heading! (Prefereably an `<h2>`.)'\n};\n\n// Unique identifier\nvar launchyId = 0;\n\nvar Launchy = function () {\n    function Launchy(params) {\n        _classCallCheck(this, Launchy);\n\n        // https://www.npmjs.com/package/focusable\n        this.focusable = __webpack_require__(/*! focusable */ 1);\n\n        // Unique identifier for each instance\n        this.launchyId = launchyId;\n\n        // Flags and other objects to be used later\n        this.hasTitle = params.title ? true : false;\n        this.modalIsVisible = false;\n        this.activeElement = null;\n        this.shiftKeyIsPressed = false;\n        this.allFocusable = null;\n        this.firstFocusable = null;\n        this.lastFocusable = null;\n\n        // Setup all the things\n        this.createElements(params);\n        this.insertElements(params);\n        this.setupEventListeners();\n\n        // Increment identifier\n        launchyId++;\n    }\n\n    /**\n     * Create all the required elements for Launchy to function.\n     *\n     * @function createElements\n     * @param params {Object} instance parameters.\n     * @return {null}\n     */\n\n\n    _createClass(Launchy, [{\n        key: 'createElements',\n        value: function createElements(params) {\n\n            // Launch control\n            this.launchControl = document.createElement(htmlElements.launchModal);\n            this.launchControl.id = '' + selectors.launchyControl + this.launchyId;\n            this.launchControl.href = '#' + selectors.launchyDialog + this.launchyId;\n            this.launchControl.classList.add(classes.modalLaunchLink);\n            this.launchControl.textContent = params.text;\n\n            // Close control\n            this.closeControl = document.createElement(htmlElements.closeModal);\n            this.closeControl.id = '' + selectors.launchyCloseControl + this.launchyId;\n            this.closeControl.href = '#' + selectors.launchyControl + this.launchyId;\n            this.closeControl.classList.add(classes.modalCloseLink);\n            this.closeControl.setAttribute('aria-label', strings.modalClose);\n            this.closeControl.innerHTML = '<span aria-hidden=\"true\">&times;</span>';\n\n            // Modal window\n            this.modalWindow = document.createElement(htmlElements.modalWindow);\n            this.modalWindow.id = '' + selectors.launchyDialog + this.launchyId;\n            this.modalWindow.classList.add(classes.modalWindow);\n            this.modalWindow.setAttribute('tabindex', -1);\n            this.modalWindow.setAttribute('role', 'dialog');\n            this.modalWindow.setAttribute('aria-hidden', true);\n\n            if (this.hasTitle) {\n                this.modalWindow.setAttribute('aria-labelledby', '' + selectors.modalTitle + this.launchyId);\n            }\n\n            // Modal overlay\n            this.modalOverlay = document.createElement(htmlElements.modalOverlay);\n            this.modalOverlay.id = '' + selectors.modalOverlay + this.launchyId;\n            this.modalOverlay.classList.add(classes.modalOverlay);\n            this.modalOverlay.setAttribute('tabindex', 0);\n\n            // Modal content\n            this.modalContent = document.createElement(htmlElements.modalContent);\n            this.modalContent.classList.add(classes.modalContent);\n\n            // Modal title\n            if (this.hasTitle) {\n                this.modalTitle = document.createElement(htmlElements.modalTitle);\n                this.modalTitle.id = '' + selectors.modalTitle + this.launchyId;\n                this.modalTitle.classList.add(classes.modalTitle);\n                this.modalTitle.textContent = params.title;\n            }\n        }\n\n        /**\n         * Insert Launchy elements into the DOM.\n         *\n         * @function insertElements\n         * @param params {Object} instance parameters.\n         * @return {null}\n         */\n\n    }, {\n        key: 'insertElements',\n        value: function insertElements(params) {\n\n            // Launch control\n            params.target.parentNode.insertBefore(this.launchControl, params.target);\n\n            // Modal window\n            params.target.parentNode.insertBefore(this.modalWindow, params.target);\n\n            // Modal content container\n            this.modalWindow.appendChild(this.modalContent);\n\n            // Close control\n            this.modalContent.appendChild(this.closeControl);\n\n            // Modal title\n            if (this.hasTitle) {\n                this.modalContent.appendChild(this.modalTitle);\n            }\n\n            // Move the content within the modal container\n            this.modalContent.appendChild(params.target);\n\n            // Overlay\n            document.body.appendChild(this.modalOverlay);\n        }\n\n        /**\n         * Create event listeners for Launchy functionality.\n         *\n         * @function setupEventListeners\n         * @return {null}\n         */\n\n    }, {\n        key: 'setupEventListeners',\n        value: function setupEventListeners() {\n\n            // Show the modal window on the launcher element `click` event\n            this.launchControl.addEventListener('click', this.showModal.bind(this), false);\n\n            // Hide the modal window on close button or overlay `click` event\n            this.closeControl.addEventListener('click', this.hideModal.bind(this), false);\n            this.modalOverlay.addEventListener('click', this.hideModal.bind(this), false);\n\n            // Trap the keyboard focus within modal window on the document\n            // `focus` event. Notice the use of the `useCapture` flag set to `true`; this\n            // indicates the event will be dispatched to the listener before any event\n            // target in the DOM:\n            // https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\n            document.addEventListener('focus', this.trapFocus.bind(this), true);\n\n            // Check for `esc` key press on the document `keydown` event\n            document.addEventListener('keydown', this.checkEsc.bind(this), false);\n        }\n\n        /**\n         * Show the modal window.\n         *\n         * @function showModal\n         * @param e {Object} The event object.\n         * @return {null}\n         */\n\n    }, {\n        key: 'showModal',\n        value: function showModal(e) {\n            e.preventDefault();\n\n            // Cache the last active element\n            this.activeElement = document.activeElement;\n\n            // Set visible flag as `true`\n            this.modalIsVisible = true;\n\n            // Set the focusable objects, first and last, within the modal window\n            this.allFocusable = this.modalWindow.querySelectorAll(this.focusable);\n            this.firstFocusable = this.allFocusable[0];\n            this.lastFocusable = this.allFocusable[this.allFocusable.length - 1];\n\n            // Add the `active` classes and set `aria-hidden` to `false`\n            this.modalWindow.classList.add(classes.modalWindowIsVisible);\n            this.modalOverlay.classList.add(classes.modalOverlayIsVisible);\n            this.modalWindow.setAttribute('aria-hidden', false);\n\n            // Shift keyboard focus to the modal window container\n            this.modalWindow.focus();\n        }\n    }, {\n        key: 'hideModal',\n\n\n        /**\n         * Hide the modal window.\n         *\n         * @function hideModal\n         * @param e {Object} The event object.\n         * @return {null}\n         */\n        value: function hideModal(e) {\n            e.preventDefault();\n\n            // Set visible flag to `false`\n            this.modalIsVisible = false;\n\n            // Reset the focusable objects\n            this.allFocusable = null;\n            this.firstFocusable = null;\n            this.lastFocusable = null;\n\n            // Remove the `active` classes and set `aria-hidden` to `true`\n            this.modalWindow.classList.remove(classes.modalWindowIsVisible);\n            this.modalOverlay.classList.remove(classes.modalOverlayIsVisible);\n            this.modalWindow.setAttribute('aria-hidden', true);\n\n            // Set focus to the previous active element\n            this.activeElement.focus();\n        }\n    }, {\n        key: 'trapFocus',\n\n\n        /**\n         * Trap keyboard focus within the modal window.\n         *\n         * @function trapFocus\n         * @param e {Object} The event object.\n         * @return {null}\n         */\n        value: function trapFocus(e) {\n\n            // If the modal is currently visible _and_ the currently focused element\n            // is _not_ within the modal window…\n            if (this.modalIsVisible && !this.modalWindow.contains(e.target)) {\n\n                // Stop the event from bubbling any further up into the DOM:\n                // https://developer.mozilla.org/en-US/docs/Web/API/Event/stopPropagation\n                e.stopPropagation();\n\n                // If the user is moving forward, focus on the first element,\n                // otherwise, the `shift` key is pressed; focus on the last element\n                this.shiftKeyIsPressed ? this.lastFocusable.focus() : this.firstFocusable.focus();\n            }\n        }\n    }, {\n        key: 'checkEsc',\n\n\n        /**\n         * Check if the `esc` key has been pressed.\n         *\n         * @function checkEsc\n         * @param e {Object} The event object.\n         * @return {null}\n         */\n        value: function checkEsc(e) {\n            if (this.modalIsVisible) {\n\n                // Cache the `shift` key state\n                this.shiftKeyIsPressed = e.shiftKey;\n\n                // Hide the modal window on `esc` key press\n                if (e.keyCode === keysCodes.Escape) {\n                    this.hideModal(e);\n                }\n            }\n        }\n    }]);\n\n    return Launchy;\n}();\n\nvar init = function init() {\n\n    // Create instances per `data-launchy` elements found in the DOM\n    var launchyElements = document.querySelectorAll(selectors.launchyElements);\n\n    var launchyText = null,\n        launchyTitle = null;\n\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n        for (var _iterator = Array.from(launchyElements)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var launchyElement = _step.value;\n\n            launchyText = launchyElement.getAttribute(data.launchyText), launchyTitle = launchyElement.getAttribute(data.launchyTitle);\n\n            // Throw an error if there's no launcher control text attribute\n            if (!launchyText) {\n                throw Error(strings.modalError);\n                break;\n            }\n\n            // Throw an error if the launcher control text is empty\n            if (launchyText.trim() === '') {\n                throw Error(strings.modalErrorEmpty);\n                break;\n            }\n\n            // Throw a warning if there's no heading title text\n            if (!launchyTitle) {\n                console.warn(strings.modalWarning);\n            }\n\n            // Params object to send to Launchy constructor\n            var params = {\n                target: launchyElement,\n                text: launchyText,\n                title: launchyTitle\n            };\n\n            // Create a new instance for each found in the DOM\n            new Launchy(params);\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n            }\n        } finally {\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n};\n\ndocument.addEventListener('DOMContentLoaded', init, false);\n\nexports.Launchy = Launchy;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvbGF1bmNoeS5qcz9kODA2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTGF1bmNoeSE6IEFuIEFjY2Vzc2libGUgTW9kYWwgV2luZG93XG4gKlxuICogRmVhdHVyZXMgaW5jbHVkZTpcbiAqIC0gT24gbGF1bmNoLCBzaGlmdCBmb2N1cyB0byB0aGUgbW9kYWwgd2luZG93IGNvbnRhaW5lclxuICogLSBUaGUgbW9kYWwgd2luZG93IGlzIGRlc2NyaWJlZCBieSB0aGUgbW9kYWwgaGVhZGluZ1xuICogLSBUcmFwIGtleWJvYXJkIGZvY3VzIHdpdGhpbiB0aGUgbW9kYWwgd2hlbiBhY3RpdmUvdmlzaWJsZVxuICogLSBDbG9zZSB0aGUgd2luZG93IG9uIGBlc2NgIGtleSBwcmVzc1xuICogLSBDbG9zZSB0aGUgd2luZG93IG9uIG92ZXJsYXkgYGNsaWNrYFxuICogLSBTZXQga2V5Ym9hcmQgZm9jdXMgYmFjayB0byB0aGUgbGF1bmNoZXIgZWxlbWVudCBvbiB3aW5kb3cgY2xvc2VcbiAqIC0gVHJhbnNwYXJlbnQgYm9yZGVyIGZvciBXaW5kb3dzIEhpZ2ggQ29udHJhc3QgdGhlbWVzXG4gKlxuICogRm9yIG1vcmUgZGV0YWlsczpcbiAqIC0gV0NBRyAyLjQuMzogaHR0cHM6Ly93d3cudzMub3JnL1RSL1VOREVSU1RBTkRJTkctV0NBRzIwL25hdmlnYXRpb24tbWVjaGFuaXNtcy1mb2N1cy1vcmRlci5odG1sI25hdmlnYXRpb24tbWVjaGFuaXNtcy1mb2N1cy1vcmRlci1leGFtcGxlcy1oZWFkXG4gKiAtIFdBSS1BUklBIEF1dGhvcmluZyBQcmFjdGljZXMgMS4xOiBodHRwczovL3d3dy53My5vcmcvVFIvd2FpLWFyaWEtcHJhY3RpY2VzLTEuMS8jZGlhbG9nX21vZGFsXG4gKlxuICogQGF1dGhvciBTY290dCBWaW5rbGUgPHN2aW5rbGVAZ21haWwuY29tPlxuICogQHZlcnNpb24gMC42LjdcbiAqIEBsaWNlbnNlIE1JVFxuICovXG5cbi8vIEhUTUwgZWxlbWVudHNcbmNvbnN0IGh0bWxFbGVtZW50cyA9IHtcbiAgICBsYXVuY2hNb2RhbDogJ2EnLFxuICAgIGNsb3NlTW9kYWw6ICdhJyxcbiAgICBtb2RhbFdpbmRvdzogJ2RpdicsXG4gICAgbW9kYWxDb250ZW50OiAnZGl2JyxcbiAgICBtb2RhbE92ZXJsYXk6ICdkaXYnLFxuICAgIG1vZGFsVGl0bGU6ICdoMidcbn07XG5cbi8vIENTUyBjbGFzc2VzXG5jb25zdCBjbGFzc2VzID0ge1xuICAgIG1vZGFsTGF1bmNoTGluazogJ2xhdW5jaHlfX2xhdW5jaC1saW5rJyxcbiAgICBtb2RhbENsb3NlTGluazogJ2xhdW5jaHlfX2Nsb3NlLWxpbmsnLFxuICAgIG1vZGFsV2luZG93OiAnbGF1bmNoeV9fd2luZG93JyxcbiAgICBtb2RhbENvbnRlbnQ6ICdsYXVuY2h5X19jb250ZW50JyxcbiAgICBtb2RhbE92ZXJsYXk6ICdsYXVuY2h5X19vdmVybGF5JyxcbiAgICBtb2RhbFRpdGxlOiAnbGF1bmNoeV9fdGl0bGUnLFxuICAgIG1vZGFsV2luZG93SXNWaXNpYmxlOiAnbGF1bmNoeV9fd2luZG93LS1pcy12aXNpYmxlJyxcbiAgICBtb2RhbE92ZXJsYXlJc1Zpc2libGU6ICdsYXVuY2h5X19vdmVybGF5LS1pcy12aXNpYmxlJ1xufTtcblxuLy8gRGF0YSBhdHRyaWJ1dGVzXG5jb25zdCBkYXRhID0ge1xuICAgIGxhdW5jaHlUZXh0OiAnZGF0YS1sYXVuY2h5LXRleHQnLFxuICAgIGxhdW5jaHlUaXRsZTogJ2RhdGEtbGF1bmNoeS10aXRsZSdcbn07XG5cbi8vIEtleXNcbmNvbnN0IGtleXNDb2RlcyA9IHtcbiAgICAnRXNjYXBlJzogMjdcbn07XG5cbi8vIFNlbGVjdG9yc1xuY29uc3Qgc2VsZWN0b3JzID0ge1xuICAgIGxhdW5jaHlFbGVtZW50czogJ1tkYXRhLWxhdW5jaHldJyxcbiAgICBsYXVuY2h5Q29udHJvbDogJ2xhdW5jaHktY29udHJvbC0nLFxuICAgIGxhdW5jaHlEaWFsb2c6ICdsYXVuY2h5LWRpYWxvZy0nLFxuICAgIGxhdW5jaHlDbG9zZUNvbnRyb2w6ICdsYXVuY2h5LWNsb3NlLWNvbnRyb2wtJyxcbiAgICBtb2RhbE92ZXJsYXk6ICdtb2RhbC1vdmVybGF5LScsXG4gICAgbW9kYWxUaXRsZTogJ21vZGFsLXRpdGxlLSdcbn07XG5cbi8vIFN0cmluZ3NcbmNvbnN0IHN0cmluZ3MgPSB7XG4gICAgbW9kYWxDbG9zZTogJ0Nsb3NlIG1vZGFsIHdpbmRvdyEnLFxuICAgIG1vZGFsRXJyb3I6ICdMYXVuY2h5IGNvbnRhaW5lciBtdXN0IGhhdmUgYSBgZGF0YS1sYXVuY2h5LXRleHRgIGF0dHJpYnV0ZSEnLFxuICAgIG1vZGFsRXJyb3JFbXB0eTogJ0xhdW5jaHkgY29udGFpbmVyIGBkYXRhLWxhdW5jaHktdGV4dGAgYXR0cmlidXRlIGNhbm5vdCBiZSBlbXB0eSEnLFxuICAgIG1vZGFsV2FybmluZzogJ0xhdW5jaHkgY29udGFpbmVyIHNob3VsZCBoYXZlIGEgYGRhdGEtbGF1bmNoeS10aXRsZWAgYXR0cmlidXRlLCBvciBiZSBzdXJlIHRvIHN1cHBseSB5b3VyIG93biBoZWFkaW5nISAoUHJlZmVyZWFibHkgYW4gYDxoMj5gLiknXG59O1xuXG4vLyBVbmlxdWUgaWRlbnRpZmllclxubGV0IGxhdW5jaHlJZCA9IDA7XG5cbmNsYXNzIExhdW5jaHkge1xuICAgIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuXG4gICAgICAgIC8vIGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL2ZvY3VzYWJsZVxuICAgICAgICB0aGlzLmZvY3VzYWJsZSA9IHJlcXVpcmUoJ2ZvY3VzYWJsZScpO1xuXG4gICAgICAgIC8vIFVuaXF1ZSBpZGVudGlmaWVyIGZvciBlYWNoIGluc3RhbmNlXG4gICAgICAgIHRoaXMubGF1bmNoeUlkID0gbGF1bmNoeUlkO1xuXG4gICAgICAgIC8vIEZsYWdzIGFuZCBvdGhlciBvYmplY3RzIHRvIGJlIHVzZWQgbGF0ZXJcbiAgICAgICAgdGhpcy5oYXNUaXRsZSA9IHBhcmFtcy50aXRsZSA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgdGhpcy5tb2RhbElzVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFjdGl2ZUVsZW1lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnNoaWZ0S2V5SXNQcmVzc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYWxsRm9jdXNhYmxlID0gbnVsbDtcbiAgICAgICAgdGhpcy5maXJzdEZvY3VzYWJsZSA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdEZvY3VzYWJsZSA9IG51bGw7XG5cbiAgICAgICAgLy8gU2V0dXAgYWxsIHRoZSB0aGluZ3NcbiAgICAgICAgdGhpcy5jcmVhdGVFbGVtZW50cyhwYXJhbXMpO1xuICAgICAgICB0aGlzLmluc2VydEVsZW1lbnRzKHBhcmFtcyk7XG4gICAgICAgIHRoaXMuc2V0dXBFdmVudExpc3RlbmVycygpO1xuXG4gICAgICAgIC8vIEluY3JlbWVudCBpZGVudGlmaWVyXG4gICAgICAgIGxhdW5jaHlJZCsrO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbGwgdGhlIHJlcXVpcmVkIGVsZW1lbnRzIGZvciBMYXVuY2h5IHRvIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRzXG4gICAgICogQHBhcmFtIHBhcmFtcyB7T2JqZWN0fSBpbnN0YW5jZSBwYXJhbWV0ZXJzLlxuICAgICAqIEByZXR1cm4ge251bGx9XG4gICAgICovXG4gICAgY3JlYXRlRWxlbWVudHMocGFyYW1zKSB7XG5cbiAgICAgICAgLy8gTGF1bmNoIGNvbnRyb2xcbiAgICAgICAgdGhpcy5sYXVuY2hDb250cm9sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChodG1sRWxlbWVudHMubGF1bmNoTW9kYWwpO1xuICAgICAgICB0aGlzLmxhdW5jaENvbnRyb2wuaWQgPSBgJHtzZWxlY3RvcnMubGF1bmNoeUNvbnRyb2x9JHt0aGlzLmxhdW5jaHlJZH1gO1xuICAgICAgICB0aGlzLmxhdW5jaENvbnRyb2wuaHJlZiA9IGAjJHtzZWxlY3RvcnMubGF1bmNoeURpYWxvZ30ke3RoaXMubGF1bmNoeUlkfWA7XG4gICAgICAgIHRoaXMubGF1bmNoQ29udHJvbC5jbGFzc0xpc3QuYWRkKGNsYXNzZXMubW9kYWxMYXVuY2hMaW5rKTtcbiAgICAgICAgdGhpcy5sYXVuY2hDb250cm9sLnRleHRDb250ZW50ID0gcGFyYW1zLnRleHQ7XG5cbiAgICAgICAgLy8gQ2xvc2UgY29udHJvbFxuICAgICAgICB0aGlzLmNsb3NlQ29udHJvbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaHRtbEVsZW1lbnRzLmNsb3NlTW9kYWwpO1xuICAgICAgICB0aGlzLmNsb3NlQ29udHJvbC5pZCA9IGAke3NlbGVjdG9ycy5sYXVuY2h5Q2xvc2VDb250cm9sfSR7dGhpcy5sYXVuY2h5SWR9YDtcbiAgICAgICAgdGhpcy5jbG9zZUNvbnRyb2wuaHJlZiA9IGAjJHtzZWxlY3RvcnMubGF1bmNoeUNvbnRyb2x9JHt0aGlzLmxhdW5jaHlJZH1gO1xuICAgICAgICB0aGlzLmNsb3NlQ29udHJvbC5jbGFzc0xpc3QuYWRkKGNsYXNzZXMubW9kYWxDbG9zZUxpbmspO1xuICAgICAgICB0aGlzLmNsb3NlQ29udHJvbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBzdHJpbmdzLm1vZGFsQ2xvc2UpO1xuICAgICAgICB0aGlzLmNsb3NlQ29udHJvbC5pbm5lckhUTUwgPSAnPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj4nO1xuXG4gICAgICAgIC8vIE1vZGFsIHdpbmRvd1xuICAgICAgICB0aGlzLm1vZGFsV2luZG93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChodG1sRWxlbWVudHMubW9kYWxXaW5kb3cpO1xuICAgICAgICB0aGlzLm1vZGFsV2luZG93LmlkID0gYCR7c2VsZWN0b3JzLmxhdW5jaHlEaWFsb2d9JHt0aGlzLmxhdW5jaHlJZH1gO1xuICAgICAgICB0aGlzLm1vZGFsV2luZG93LmNsYXNzTGlzdC5hZGQoY2xhc3Nlcy5tb2RhbFdpbmRvdyk7XG4gICAgICAgIHRoaXMubW9kYWxXaW5kb3cuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsIC0xKTtcbiAgICAgICAgdGhpcy5tb2RhbFdpbmRvdy5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnZGlhbG9nJyk7XG4gICAgICAgIHRoaXMubW9kYWxXaW5kb3cuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsIHRydWUpO1xuXG4gICAgICAgIGlmICh0aGlzLmhhc1RpdGxlKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGFsV2luZG93LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbGxlZGJ5JywgYCR7c2VsZWN0b3JzLm1vZGFsVGl0bGV9JHt0aGlzLmxhdW5jaHlJZH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1vZGFsIG92ZXJsYXlcbiAgICAgICAgdGhpcy5tb2RhbE92ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGh0bWxFbGVtZW50cy5tb2RhbE92ZXJsYXkpO1xuICAgICAgICB0aGlzLm1vZGFsT3ZlcmxheS5pZCA9IGAke3NlbGVjdG9ycy5tb2RhbE92ZXJsYXl9JHt0aGlzLmxhdW5jaHlJZH1gO1xuICAgICAgICB0aGlzLm1vZGFsT3ZlcmxheS5jbGFzc0xpc3QuYWRkKGNsYXNzZXMubW9kYWxPdmVybGF5KTtcbiAgICAgICAgdGhpcy5tb2RhbE92ZXJsYXkuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsIDApO1xuXG4gICAgICAgIC8vIE1vZGFsIGNvbnRlbnRcbiAgICAgICAgdGhpcy5tb2RhbENvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGh0bWxFbGVtZW50cy5tb2RhbENvbnRlbnQpO1xuICAgICAgICB0aGlzLm1vZGFsQ29udGVudC5jbGFzc0xpc3QuYWRkKGNsYXNzZXMubW9kYWxDb250ZW50KTtcblxuICAgICAgICAvLyBNb2RhbCB0aXRsZVxuICAgICAgICBpZiAodGhpcy5oYXNUaXRsZSkge1xuICAgICAgICAgICAgdGhpcy5tb2RhbFRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChodG1sRWxlbWVudHMubW9kYWxUaXRsZSk7XG4gICAgICAgICAgICB0aGlzLm1vZGFsVGl0bGUuaWQgPSBgJHtzZWxlY3RvcnMubW9kYWxUaXRsZX0ke3RoaXMubGF1bmNoeUlkfWA7XG4gICAgICAgICAgICB0aGlzLm1vZGFsVGl0bGUuY2xhc3NMaXN0LmFkZChjbGFzc2VzLm1vZGFsVGl0bGUpO1xuICAgICAgICAgICAgdGhpcy5tb2RhbFRpdGxlLnRleHRDb250ZW50ID0gcGFyYW1zLnRpdGxlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5zZXJ0IExhdW5jaHkgZWxlbWVudHMgaW50byB0aGUgRE9NLlxuICAgICAqXG4gICAgICogQGZ1bmN0aW9uIGluc2VydEVsZW1lbnRzXG4gICAgICogQHBhcmFtIHBhcmFtcyB7T2JqZWN0fSBpbnN0YW5jZSBwYXJhbWV0ZXJzLlxuICAgICAqIEByZXR1cm4ge251bGx9XG4gICAgICovXG4gICAgaW5zZXJ0RWxlbWVudHMocGFyYW1zKSB7XG5cbiAgICAgICAgLy8gTGF1bmNoIGNvbnRyb2xcbiAgICAgICAgcGFyYW1zLnRhcmdldC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLmxhdW5jaENvbnRyb2wsIHBhcmFtcy50YXJnZXQpO1xuXG4gICAgICAgIC8vIE1vZGFsIHdpbmRvd1xuICAgICAgICBwYXJhbXMudGFyZ2V0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMubW9kYWxXaW5kb3csIHBhcmFtcy50YXJnZXQpO1xuXG4gICAgICAgIC8vIE1vZGFsIGNvbnRlbnQgY29udGFpbmVyXG4gICAgICAgIHRoaXMubW9kYWxXaW5kb3cuYXBwZW5kQ2hpbGQodGhpcy5tb2RhbENvbnRlbnQpO1xuXG4gICAgICAgIC8vIENsb3NlIGNvbnRyb2xcbiAgICAgICAgdGhpcy5tb2RhbENvbnRlbnQuYXBwZW5kQ2hpbGQodGhpcy5jbG9zZUNvbnRyb2wpO1xuXG4gICAgICAgIC8vIE1vZGFsIHRpdGxlXG4gICAgICAgIGlmICh0aGlzLmhhc1RpdGxlKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGFsQ29udGVudC5hcHBlbmRDaGlsZCh0aGlzLm1vZGFsVGl0bGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTW92ZSB0aGUgY29udGVudCB3aXRoaW4gdGhlIG1vZGFsIGNvbnRhaW5lclxuICAgICAgICB0aGlzLm1vZGFsQ29udGVudC5hcHBlbmRDaGlsZChwYXJhbXMudGFyZ2V0KTtcblxuICAgICAgICAvLyBPdmVybGF5XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5tb2RhbE92ZXJsYXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBldmVudCBsaXN0ZW5lcnMgZm9yIExhdW5jaHkgZnVuY3Rpb25hbGl0eS5cbiAgICAgKlxuICAgICAqIEBmdW5jdGlvbiBzZXR1cEV2ZW50TGlzdGVuZXJzXG4gICAgICogQHJldHVybiB7bnVsbH1cbiAgICAgKi9cbiAgICBzZXR1cEV2ZW50TGlzdGVuZXJzKCkge1xuXG4gICAgICAgIC8vIFNob3cgdGhlIG1vZGFsIHdpbmRvdyBvbiB0aGUgbGF1bmNoZXIgZWxlbWVudCBgY2xpY2tgIGV2ZW50XG4gICAgICAgIHRoaXMubGF1bmNoQ29udHJvbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuc2hvd01vZGFsLmJpbmQodGhpcyksIGZhbHNlKTtcblxuICAgICAgICAvLyBIaWRlIHRoZSBtb2RhbCB3aW5kb3cgb24gY2xvc2UgYnV0dG9uIG9yIG92ZXJsYXkgYGNsaWNrYCBldmVudFxuICAgICAgICB0aGlzLmNsb3NlQ29udHJvbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGlkZU1vZGFsLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgICAgICAgdGhpcy5tb2RhbE92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhpZGVNb2RhbC5iaW5kKHRoaXMpLCBmYWxzZSk7XG5cbiAgICAgICAgLy8gVHJhcCB0aGUga2V5Ym9hcmQgZm9jdXMgd2l0aGluIG1vZGFsIHdpbmRvdyBvbiB0aGUgZG9jdW1lbnRcbiAgICAgICAgLy8gYGZvY3VzYCBldmVudC4gTm90aWNlIHRoZSB1c2Ugb2YgdGhlIGB1c2VDYXB0dXJlYCBmbGFnIHNldCB0byBgdHJ1ZWA7IHRoaXNcbiAgICAgICAgLy8gaW5kaWNhdGVzIHRoZSBldmVudCB3aWxsIGJlIGRpc3BhdGNoZWQgdG8gdGhlIGxpc3RlbmVyIGJlZm9yZSBhbnkgZXZlbnRcbiAgICAgICAgLy8gdGFyZ2V0IGluIHRoZSBET006XG4gICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FdmVudFRhcmdldC9hZGRFdmVudExpc3RlbmVyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy50cmFwRm9jdXMuYmluZCh0aGlzKSwgdHJ1ZSk7XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIGBlc2NgIGtleSBwcmVzcyBvbiB0aGUgZG9jdW1lbnQgYGtleWRvd25gIGV2ZW50XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmNoZWNrRXNjLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaG93IHRoZSBtb2RhbCB3aW5kb3cuXG4gICAgICpcbiAgICAgKiBAZnVuY3Rpb24gc2hvd01vZGFsXG4gICAgICogQHBhcmFtIGUge09iamVjdH0gVGhlIGV2ZW50IG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtudWxsfVxuICAgICAqL1xuICAgIHNob3dNb2RhbChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAvLyBDYWNoZSB0aGUgbGFzdCBhY3RpdmUgZWxlbWVudFxuICAgICAgICB0aGlzLmFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuXG4gICAgICAgIC8vIFNldCB2aXNpYmxlIGZsYWcgYXMgYHRydWVgXG4gICAgICAgIHRoaXMubW9kYWxJc1Zpc2libGUgPSB0cnVlO1xuXG4gICAgICAgIC8vIFNldCB0aGUgZm9jdXNhYmxlIG9iamVjdHMsIGZpcnN0IGFuZCBsYXN0LCB3aXRoaW4gdGhlIG1vZGFsIHdpbmRvd1xuICAgICAgICB0aGlzLmFsbEZvY3VzYWJsZSA9IHRoaXMubW9kYWxXaW5kb3cucXVlcnlTZWxlY3RvckFsbCh0aGlzLmZvY3VzYWJsZSk7XG4gICAgICAgIHRoaXMuZmlyc3RGb2N1c2FibGUgPSB0aGlzLmFsbEZvY3VzYWJsZVswXTtcbiAgICAgICAgdGhpcy5sYXN0Rm9jdXNhYmxlID0gdGhpcy5hbGxGb2N1c2FibGVbdGhpcy5hbGxGb2N1c2FibGUubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgLy8gQWRkIHRoZSBgYWN0aXZlYCBjbGFzc2VzIGFuZCBzZXQgYGFyaWEtaGlkZGVuYCB0byBgZmFsc2VgXG4gICAgICAgIHRoaXMubW9kYWxXaW5kb3cuY2xhc3NMaXN0LmFkZChjbGFzc2VzLm1vZGFsV2luZG93SXNWaXNpYmxlKTtcbiAgICAgICAgdGhpcy5tb2RhbE92ZXJsYXkuY2xhc3NMaXN0LmFkZChjbGFzc2VzLm1vZGFsT3ZlcmxheUlzVmlzaWJsZSk7XG4gICAgICAgIHRoaXMubW9kYWxXaW5kb3cuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsIGZhbHNlKTtcblxuICAgICAgICAvLyBTaGlmdCBrZXlib2FyZCBmb2N1cyB0byB0aGUgbW9kYWwgd2luZG93IGNvbnRhaW5lclxuICAgICAgICB0aGlzLm1vZGFsV2luZG93LmZvY3VzKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhpZGUgdGhlIG1vZGFsIHdpbmRvdy5cbiAgICAgKlxuICAgICAqIEBmdW5jdGlvbiBoaWRlTW9kYWxcbiAgICAgKiBAcGFyYW0gZSB7T2JqZWN0fSBUaGUgZXZlbnQgb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge251bGx9XG4gICAgICovXG4gICAgaGlkZU1vZGFsKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIC8vIFNldCB2aXNpYmxlIGZsYWcgdG8gYGZhbHNlYFxuICAgICAgICB0aGlzLm1vZGFsSXNWaXNpYmxlID0gZmFsc2U7XG5cbiAgICAgICAgLy8gUmVzZXQgdGhlIGZvY3VzYWJsZSBvYmplY3RzXG4gICAgICAgIHRoaXMuYWxsRm9jdXNhYmxlID0gbnVsbDtcbiAgICAgICAgdGhpcy5maXJzdEZvY3VzYWJsZSA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdEZvY3VzYWJsZSA9IG51bGw7XG5cbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBgYWN0aXZlYCBjbGFzc2VzIGFuZCBzZXQgYGFyaWEtaGlkZGVuYCB0byBgdHJ1ZWBcbiAgICAgICAgdGhpcy5tb2RhbFdpbmRvdy5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzZXMubW9kYWxXaW5kb3dJc1Zpc2libGUpO1xuICAgICAgICB0aGlzLm1vZGFsT3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzZXMubW9kYWxPdmVybGF5SXNWaXNpYmxlKTtcbiAgICAgICAgdGhpcy5tb2RhbFdpbmRvdy5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgdHJ1ZSk7XG5cbiAgICAgICAgLy8gU2V0IGZvY3VzIHRvIHRoZSBwcmV2aW91cyBhY3RpdmUgZWxlbWVudFxuICAgICAgICB0aGlzLmFjdGl2ZUVsZW1lbnQuZm9jdXMoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVHJhcCBrZXlib2FyZCBmb2N1cyB3aXRoaW4gdGhlIG1vZGFsIHdpbmRvdy5cbiAgICAgKlxuICAgICAqIEBmdW5jdGlvbiB0cmFwRm9jdXNcbiAgICAgKiBAcGFyYW0gZSB7T2JqZWN0fSBUaGUgZXZlbnQgb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge251bGx9XG4gICAgICovXG4gICAgdHJhcEZvY3VzKGUpIHtcblxuICAgICAgICAvLyBJZiB0aGUgbW9kYWwgaXMgY3VycmVudGx5IHZpc2libGUgX2FuZF8gdGhlIGN1cnJlbnRseSBmb2N1c2VkIGVsZW1lbnRcbiAgICAgICAgLy8gaXMgX25vdF8gd2l0aGluIHRoZSBtb2RhbCB3aW5kb3figKZcbiAgICAgICAgaWYgKHRoaXMubW9kYWxJc1Zpc2libGUgJiYgIXRoaXMubW9kYWxXaW5kb3cuY29udGFpbnMoZS50YXJnZXQpKSB7XG5cbiAgICAgICAgICAgIC8vIFN0b3AgdGhlIGV2ZW50IGZyb20gYnViYmxpbmcgYW55IGZ1cnRoZXIgdXAgaW50byB0aGUgRE9NOlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0V2ZW50L3N0b3BQcm9wYWdhdGlvblxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgLy8gSWYgdGhlIHVzZXIgaXMgbW92aW5nIGZvcndhcmQsIGZvY3VzIG9uIHRoZSBmaXJzdCBlbGVtZW50LFxuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlLCB0aGUgYHNoaWZ0YCBrZXkgaXMgcHJlc3NlZDsgZm9jdXMgb24gdGhlIGxhc3QgZWxlbWVudFxuICAgICAgICAgICAgdGhpcy5zaGlmdEtleUlzUHJlc3NlZCA/IHRoaXMubGFzdEZvY3VzYWJsZS5mb2N1cygpIDogdGhpcy5maXJzdEZvY3VzYWJsZS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoZSBgZXNjYCBrZXkgaGFzIGJlZW4gcHJlc3NlZC5cbiAgICAgKlxuICAgICAqIEBmdW5jdGlvbiBjaGVja0VzY1xuICAgICAqIEBwYXJhbSBlIHtPYmplY3R9IFRoZSBldmVudCBvYmplY3QuXG4gICAgICogQHJldHVybiB7bnVsbH1cbiAgICAgKi9cbiAgICBjaGVja0VzYyhlKSB7XG4gICAgICAgIGlmICh0aGlzLm1vZGFsSXNWaXNpYmxlKSB7XG5cbiAgICAgICAgICAgIC8vIENhY2hlIHRoZSBgc2hpZnRgIGtleSBzdGF0ZVxuICAgICAgICAgICAgdGhpcy5zaGlmdEtleUlzUHJlc3NlZCA9IGUuc2hpZnRLZXk7XG5cbiAgICAgICAgICAgIC8vIEhpZGUgdGhlIG1vZGFsIHdpbmRvdyBvbiBgZXNjYCBrZXkgcHJlc3NcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IGtleXNDb2Rlcy5Fc2NhcGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGVNb2RhbChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG5cbmNvbnN0IGluaXQgPSAoKSA9PiB7XG5cbiAgICAvLyBDcmVhdGUgaW5zdGFuY2VzIHBlciBgZGF0YS1sYXVuY2h5YCBlbGVtZW50cyBmb3VuZCBpbiB0aGUgRE9NXG4gICAgY29uc3QgbGF1bmNoeUVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcnMubGF1bmNoeUVsZW1lbnRzKTtcblxuICAgIGxldCBsYXVuY2h5VGV4dCA9IG51bGwsXG4gICAgICAgIGxhdW5jaHlUaXRsZSA9IG51bGw7XG5cbiAgICBmb3IgKGNvbnN0IGxhdW5jaHlFbGVtZW50IG9mIEFycmF5LmZyb20obGF1bmNoeUVsZW1lbnRzKSkge1xuICAgICAgICBsYXVuY2h5VGV4dCA9IGxhdW5jaHlFbGVtZW50LmdldEF0dHJpYnV0ZShkYXRhLmxhdW5jaHlUZXh0KSxcbiAgICAgICAgbGF1bmNoeVRpdGxlID0gbGF1bmNoeUVsZW1lbnQuZ2V0QXR0cmlidXRlKGRhdGEubGF1bmNoeVRpdGxlKTtcblxuICAgICAgICAvLyBUaHJvdyBhbiBlcnJvciBpZiB0aGVyZSdzIG5vIGxhdW5jaGVyIGNvbnRyb2wgdGV4dCBhdHRyaWJ1dGVcbiAgICAgICAgaWYgKCFsYXVuY2h5VGV4dCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3Ioc3RyaW5ncy5tb2RhbEVycm9yKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhyb3cgYW4gZXJyb3IgaWYgdGhlIGxhdW5jaGVyIGNvbnRyb2wgdGV4dCBpcyBlbXB0eVxuICAgICAgICBpZiAobGF1bmNoeVRleHQudHJpbSgpID09PSAnJykge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3Ioc3RyaW5ncy5tb2RhbEVycm9yRW1wdHkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaHJvdyBhIHdhcm5pbmcgaWYgdGhlcmUncyBubyBoZWFkaW5nIHRpdGxlIHRleHRcbiAgICAgICAgaWYgKCFsYXVuY2h5VGl0bGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihzdHJpbmdzLm1vZGFsV2FybmluZyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQYXJhbXMgb2JqZWN0IHRvIHNlbmQgdG8gTGF1bmNoeSBjb25zdHJ1Y3RvclxuICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICB0YXJnZXQ6IGxhdW5jaHlFbGVtZW50LFxuICAgICAgICAgICAgdGV4dDogbGF1bmNoeVRleHQsXG4gICAgICAgICAgICB0aXRsZTogbGF1bmNoeVRpdGxlXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IGluc3RhbmNlIGZvciBlYWNoIGZvdW5kIGluIHRoZSBET01cbiAgICAgICAgbmV3IExhdW5jaHkocGFyYW1zKTtcbiAgICB9XG59O1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgaW5pdCwgZmFsc2UpO1xuXG5leHBvcnQge0xhdW5jaHl9O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9sYXVuY2h5LmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFFQTs7Ozs7OztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUVBOzs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUVBOzs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBTkE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQVFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUF0Q0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQXVDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/*!*****************************************!*\
  !*** ./node_modules/focusable/index.js ***!
  \*****************************************/
/*! no static exports found */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = 'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex=\"0\"], [contenteditable]'\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mb2N1c2FibGUvaW5kZXguanM/MmM2MyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9ICdhW2hyZWZdLCBhcmVhW2hyZWZdLCBpbnB1dDpub3QoW2Rpc2FibGVkXSksIHNlbGVjdDpub3QoW2Rpc2FibGVkXSksIHRleHRhcmVhOm5vdChbZGlzYWJsZWRdKSwgYnV0dG9uOm5vdChbZGlzYWJsZWRdKSwgaWZyYW1lLCBvYmplY3QsIGVtYmVkLCBbdGFiaW5kZXg9XCIwXCJdLCBbY29udGVudGVkaXRhYmxlXSdcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2ZvY3VzYWJsZS9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n");

/***/ })
/******/ ]);